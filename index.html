<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Portfolio — Danilo Alacqua</title>

  <!-- Colore barra di stato mobile -->
  <meta name="theme-color" content="#020308">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta name="description" content="Realizzo grafiche sportive per società e atleti: matchday, risultati, MVP, calendari e materiali per i social." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <!-- HEADER -->
  <header class="header-tot">
    <div class="container header-inner">

      <img class="brand-logo" src="img/adc.svg" alt="Danilo Alacqua">

      <button id="hamburger" class="hamburger" aria-label="Apri menu">
        &#9776;
      </button>

      <nav id="navbar">
        <a href="#">Home</a>
        <a href="#portfolio">Lavori</a>
        <a href="#servizi">Servizi</a>
        <a href="#recensioni">Recensioni</a>
        <a href="#chi-sono">Chi sono</a>
        <a href="#contatti">Contatti</a>
      </nav>

      <a href="https://www.instagram.com/_daniloalacqua_/" target="_blank" rel="noopener noreferrer">
        <img class="social-logo" src="img/instagram logo.png" alt="Instagram">
      </a>

    </div>
  </header>

  <main>

    <!-- HERO -->
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-text">
          <p class="hero-kicker">SPORT VISUAL DESIGN</p>
          <h1>Creo grafiche per raccontare lo sport.</h1>
          <p class="hero-subtitle">
            Locandine matchday, risultati, MVP e calendari settimanali per raccontare le partite della tua società sportiva.
          </p>
          <div class="hero-cta">
            <a href="#portfolio" class="btn btn-primary">Guarda i lavori</a>
            <a href="#contatti" class="btn btn-secondary">Contattami</a>
          </div>
        </div>

        <!-- COLLABORAZIONI / CLIENTI -->
        <div class="hero-clients">
          <p class="clients-title">Collaborazioni</p>
          <div class="clients-list">
            <span>ASD Volley ’96 Milazzo</span>
          </div>
        </div>
      </div>
    </section>

    <!-- PORTFOLIO COMPLETO -->
    <section id="portfolio" class="portfolio-section">
      <div class="container">
        <h2 class="section-title">Portfolio</h2>

        <h3 class="section-subtitle">Post / Storie – Matchday / Next Match</h3>
        <div class="portfolio-grid">
          <img src="img/llll.png" alt="Locandina matchday 1">
          <img src="img/bbb.jpg" alt="Locandina matchday 2">
          <img src="img/aaa.jpg" alt="Locandina matchday 3">
          <img src="img/nextFemminile.png" alt="Locandina matchday femminile">
        </div>

        <h3 class="section-subtitle">Final Score</h3>
        <div class="portfolio-grid">
          <img src="img/jjj.jpg" alt="Grafica risultato 1">
          <img src="img/FinalMaschile.png" alt="Grafica risultato maschile">
        </div>

        <h3 class="section-subtitle">MVP / Scarabeo di giornata</h3>
        <div class="portfolio-grid">
          <img src="img/2.jpg" alt="Grafica MVP 1">
          <img src="img/1.jpg" alt="Grafica MVP 2">
        </div>

        <h3 class="section-subtitle">Calendari settimanali e mensili</h3>
        <div class="portfolio-grid">
          <img src="img/Calendario settimanale.png" alt="Calendario settimanale">
          <img src="img/DASSAS.png" alt="Calendario Dicembre 1">
          <img src="img/AAA.png" alt="Calendario Dicembre 2">
          <img src="img/ggg.jpg" alt="Calendario Dicembre 3">
        </div>

        <h3 class="section-subtitle">Progetti non pubblicati</h3>
        <div class="portfolio-grid">
          <img src="img/bnbn.png" alt="Progetto privato 1">
          <img src="img/FFFFFF.png" alt="Logo privato 1">
          <img src="img/sfv.jpg" alt="Logo privato 2">
          <img src="img/new nextHH.png" alt="Locandina privata 1">
          <img src="img/kkk.jpg" alt="Locandina privata 2">
        </div>
      </div>
    </section>

    <!-- SERVIZI -->
    <section id="servizi" class="services-section">
      <div class="container">
        <h2 class="section-title">Servizi</h2>

        <div class="services-grid">

         <div class="service-card">
  <h3>Pacchetto Start</h3>
  <p>Grafiche Matchday (pre-partita) + Final Score per ogni gara di campionato.</p>
  <p class="service-note">Ideale per squadre che vogliono una comunicazione costante e ordinata.</p>
</div>

<div class="service-card">
  <h3>Pacchetto Pro</h3>
  <p>
    Matchday + Final Score + MVP di giornata +
    calendario settimanale e mensile per tutta la stagione.
  </p>
  <p class="service-note">
    La soluzione completa per costruire un’identità grafica riconoscibile.
  </p>
</div>

<div class="service-card">
  <h3>Pacchetto Elite</h3>
  <p>
    Tutto il Pacchetto Pro +
    grafiche speciali per derby/playoff, eventi speciali e presentazioni staff.
  </p>
  <p class="service-note">
    Perfetto per società che puntano a un’immagine premium.
  </p>
</div>


        </div>
      </div>
    </section>

    <!-- RECENSIONI -->
    <section id="recensioni" class="reviews-section">
      <div class="container">
        <h2 class="section-title">Recensioni</h2>

        <div class="reviews-cta-row">
          <button id="openReviewForm" class="btn btn-secondary">
            Lascia una recensione
          </button>
        </div>

        <div class="reviews-wrapper">
          <!-- MESSAGGIO QUANDO NON CI SONO RECENSIONI -->
          <div id="reviews-empty" class="reviews-empty">
            <h3>Nessuna recensione ancora</h3>
            <p>Scrivi tu la prima!</p>
          </div>

          <!-- TRACK CAROSELLO (riempito da JS con i dati del Google Sheet) -->
          <div class="review-track">
            <!-- Fallback di 3 recensioni statiche se il fetch fallisce -->
            <article class="review-card">
              <p class="review-text">«Grafiche stupende e comunicazione super professionale.»</p>
              <p class="review-author">ASD Volley '96</p>
              <p class="review-role">Società sportiva</p>
            </article>

            <article class="review-card">
              <p class="review-text">«Tempi rapidi, sempre disponibili e creativi.»</p>
              <p class="review-author">Staff tecnico</p>
              <p class="review-role">Allenatore</p>
            </article>

            <article class="review-card">
              <p class="review-text">«Immagine della società completamente trasformata.»</p>
              <p class="review-author">Dirigenza</p>
              <p class="review-role">Dirigente</p>
            </article>
          </div>

          <button class="reviews-arrow prev" aria-label="Recensione precedente">‹</button>
          <button class="reviews-arrow next" aria-label="Recensione successiva">›</button>

          <div class="reviews-dots">
            <button class="reviews-dot active"></button>
            <button class="reviews-dot"></button>
            <button class="reviews-dot"></button>
          </div>
        </div>

      </div>
    </section>

    <!-- BIO -->
    <section id="chi-sono" class="about-section">
      <div class="container">
        <h2 class="section-title">Chi sono</h2>
        <div class="about-content">
          <p>
            Sono Danilo Alacqua, software developer di professione e sport visual designer per passione.
            Dal 2025 curo l’immagine grafica dell’ASD Volley ’96 Milazzo: locandine, risultati, MVP, calendari
            e materiali social.
          </p>
          <p>
            Lavoro con format coerenti, tempi rapidi e attenzione all’identità della squadra e del territorio.
          </p>
        </div>
      </div>
    </section>

    <!-- CONTATTI -->
    <section id="contatti" class="contact-section">
      <div class="container">
        <h2 class="section-title">Contatti</h2>
        <p class="contact-text">
          Se vuoi dare un’identità professionale alle grafiche della tua squadra, scrivimi pure senza impegno.
        </p>
        <div class="contact-info">
          <p>Email: <a href="mailto:danilo.lcq@gmail.com">danilo.lcq@gmail.com</a></p>
          <p>Instagram: <a href="https://www.instagram.com/_daniloalacqua_/" target="_blank" rel="noopener noreferrer">@_daniloalacqua_</a></p>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <p>© 2025 Danilo Alacqua · Sport Visual Design</p>
  </footer>

  <!-- LIGHTBOX FULLSCREEN -->
  <div id="lightbox" class="lightbox">
    <span class="lightbox-close">&times;</span>
    <img id="lightboxImg" class="lightbox-img" src="" alt="">
  </div>

  <!-- MODALE RECENSIONE -->
  <div id="reviewModal" class="review-modal">
    <div class="review-modal-content">

      <button id="closeReviewForm" class="review-modal-close" aria-label="Chiudi form">&times;</button>

      <h3>Lascia una recensione</h3>

      <form id="reviewForm">
        <input name="name" placeholder="Nome / Società" required>
        <input name="role" placeholder="Ruolo">
        <textarea name="text" placeholder="Scrivi la tua recensione" required></textarea>

        <button class="btn btn-primary" type="submit">
          Invia recensione
        </button>

        <p id="reviewMessage"></p>
      </form>
    </div>
  </div>

  <!-- SCRIPT UNICO -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {

      // ========= MENU =========
      const hamburger = document.getElementById("hamburger");
      const navbar = document.getElementById("navbar");

      if (hamburger && navbar) {
        hamburger.addEventListener("click", (e) => {
          e.stopPropagation();
          navbar.classList.toggle("open");
        });

        document.addEventListener("click", () => {
          navbar.classList.remove("open");
        });

        navbar.addEventListener("click", (e) => {
          e.stopPropagation();
        });

        navbar.querySelectorAll("a").forEach(link => {
          link.addEventListener("click", () => {
            navbar.classList.remove("open");
          });
        });
      }

      // ========= LIGHTBOX PORTFOLIO =========
      const lb = document.getElementById("lightbox");
      const lbImg = document.getElementById("lightboxImg");
      const lbClose = lb ? lb.querySelector(".lightbox-close") : null;

      document.querySelectorAll(".portfolio-grid img").forEach(img => {
        img.addEventListener("click", () => {
          if (!lb || !lbImg) return;
          lbImg.src = img.src;
          lbImg.alt = img.alt || "";
          lb.classList.add("open");
          document.body.style.overflow = "hidden";
        });
      });

      function closeLightbox() {
        lb.classList.remove("open");
        lbImg.src = "";
        document.body.style.overflow = "";
      }

      if (lb && lbClose) {
        lbClose.addEventListener("click", closeLightbox);
        lb.addEventListener("click", (e) => {
          if (e.target === lb) closeLightbox();
        });
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") closeLightbox();
        });
      }

      // ========= RECENSIONI: CARICAMENTO DA GOOGLE SHEET =========
      const SHEET_URL = "https://script.google.com/macros/s/AKfycbyMHBW8YG5oJ9bPtmOCIiUnbpqJhSdQqhHI8kmGqkI5DqQOMeFh66CTZxF8MQEsWbX8EA/exec";

      const track = document.querySelector(".review-track");
      const dotsBox = document.querySelector(".reviews-dots");
      const emptyBox = document.getElementById("reviews-empty");
      const prevBtn = document.querySelector(".reviews-arrow.prev");
      const nextBtn = document.querySelector(".reviews-arrow.next");

      let slides = [];
      let dots = [];
      let index = 0;

      function goToSlide(i) {
        if (!slides.length) return;
        index = (i + slides.length) % slides.length;
        track.style.transform = `translateX(-${index * 100}%)`;
        dots.forEach((d, di) => d.classList.toggle("active", di === index));
      }

      function setupCarouselFromDom() {
        slides = Array.from(track.querySelectorAll(".review-card"));
        dots = Array.from(dotsBox.querySelectorAll(".reviews-dot"));

        if (!slides.length) {
          if (emptyBox) emptyBox.style.display = "block";
          track.style.display = "none";
          if (prevBtn) prevBtn.style.display = "none";
          if (nextBtn) nextBtn.style.display = "none";
          if (dotsBox) dotsBox.style.display = "none";
          return;
        }

        if (emptyBox) emptyBox.style.display = "none";
        track.style.display = "flex";
        if (prevBtn) prevBtn.style.display = "flex";
        if (nextBtn) nextBtn.style.display = "flex";
        if (dotsBox) dotsBox.style.display = "flex";

        index = 0;
        goToSlide(0);

        dots.forEach((dot, di) => {
          dot.addEventListener("click", () => {
            goToSlide(di);
          });
        });
      }

      function setupCarouselFromData(reviews) {
        if (!track || !dotsBox) return;

        track.innerHTML = "";
        dotsBox.innerHTML = "";

        if (!reviews || !reviews.length) {
          if (emptyBox) emptyBox.style.display = "block";
          track.style.display = "none";
          if (prevBtn) prevBtn.style.display = "none";
          if (nextBtn) nextBtn.style.display = "none";
          if (dotsBox) dotsBox.style.display = "none";
          return;
        }

        if (emptyBox) emptyBox.style.display = "none";
        track.style.display = "flex";
        if (prevBtn) prevBtn.style.display = "flex";
        if (nextBtn) nextBtn.style.display = "flex";
        if (dotsBox) dotsBox.style.display = "flex";

        reviews.forEach((r, i) => {
          const card = document.createElement("article");
          card.className = "review-card";
          card.innerHTML = `
            <p class="review-text">«${r.text}»</p>
            <p class="review-author">${r.name}</p>
            ${r.role ? `<p class="review-role">${r.role}</p>` : ""}
          `;
          track.appendChild(card);

          const dot = document.createElement("button");
          dot.className = "reviews-dot";
          if (i === 0) dot.classList.add("active");
          dotsBox.appendChild(dot);
        });

        slides = Array.from(track.querySelectorAll(".review-card"));
        dots = Array.from(dotsBox.querySelectorAll(".reviews-dot"));
        index = 0;
        goToSlide(0);

        dots.forEach((dot, di) => {
          dot.addEventListener("click", () => {
            goToSlide(di);
          });
        });
      }

      function loadReviews() {
        fetch(SHEET_URL)
          .then(res => res.json())
          .then(data => {
            if (Array.isArray(data) && data.length > 0) {
              setupCarouselFromData(data);
            } else {
              setupCarouselFromData([]);
            }
          })
          .catch(() => {
            // in caso di errore, usa le recensioni statiche
            setupCarouselFromDom();
          });
      }

      // Frecce carosello
      if (nextBtn) {
        nextBtn.addEventListener("click", () => {
          goToSlide(index + 1);
        });
      }
      if (prevBtn) {
        prevBtn.addEventListener("click", () => {
          goToSlide(index - 1);
        });
      }

      // Avvio: carica da Google Sheet
      loadReviews();

      // ========= MODALE RECENSIONE + INVIO A GOOGLE SHEET =========
      const openBtn = document.getElementById("openReviewForm");
      const modal = document.getElementById("reviewModal");
      const closeBtn = document.getElementById("closeReviewForm");
      const form = document.getElementById("reviewForm");
      const msg = document.getElementById("reviewMessage");

      if (openBtn && modal) {
        openBtn.addEventListener("click", () => {
          modal.classList.add("open");
        });
      }

      if (closeBtn && modal) {
        closeBtn.addEventListener("click", () => {
          modal.classList.remove("open");
        });

        modal.addEventListener("click", (e) => {
          if (e.target === modal) modal.classList.remove("open");
        });
      }

      if (form) {
        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          msg.textContent = "";

          try {
            await fetch(SHEET_URL, {
              method: "POST",
              body: new FormData(form)
            });

            msg.textContent = "✅ Recensione inviata!";
            form.reset();

            // ricarica le recensioni dal foglio
            loadReviews();

            setTimeout(() => {
              modal.classList.remove("open");
              msg.textContent = "";
            }, 1500);
          } catch {
            msg.textContent = "❌ Errore di invio, riprova.";
          }
        });
      }

    });
  </script>

</body>
</html>
